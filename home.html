<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>SiPandu Home - Command Center</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-main: #0a0a1a;
            --bg-card: rgba(28, 21, 58, 0.4);
            --purple-soft: #a78bfa;
            --purple-dark: #6d28d9;
            --text-muted: #b6b0d8;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at bottom right, #1a1440, #0a0a1a);
            color: white; margin: 0; padding: 40px; min-height: 100vh;
        }

        .dashboard-grid {
            display: grid; grid-template-columns: 1.2fr 1fr 0.8fr; gap: 25px;
            max-width: 1400px; margin: auto;
        }

        /* 1. WELCOME & ABOUT (TENTANG SIPANDU) */
        .welcome-box {
            grid-column: span 3; padding: 50px;
            background: linear-gradient(135deg, rgba(109, 40, 217, 0.2), rgba(139, 92, 246, 0.1));
            border-radius: 30px; border: 1px solid rgba(167, 139, 250, 0.2);
        }

        h1 { font-family: 'Montserrat'; font-size: 38px; margin: 0; }
        .vision-text { max-width: 800px; line-height: 1.8; opacity: 0.8; font-size: 15px; margin-top: 20px; }

        /* 2. PLANNER & CALENDAR */
        .card {
            background: var(--bg-card); backdrop-filter: blur(20px);
            padding: 25px; border-radius: 24px; border: 1px solid rgba(255,255,255,0.05);
        }

        .calendar-grid {
            display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; text-align: center;
        }
        .cal-day { padding: 10px; font-size: 11px; background: rgba(255,255,255,0.03); border-radius: 8px; cursor: pointer; }
        .cal-day:hover { background: var(--purple-dark); }
        .cal-today { border: 1px solid var(--purple-soft); color: var(--purple-soft); font-weight: bold; }

        /* 3. REFLEKSI INTERAKTIF */
        .reflection-tool { display: flex; flex-direction: column; gap: 15px; }
        .mood-btn { 
            flex: 1; padding: 10px; border: 1px solid rgba(255,255,255,0.1); 
            background: none; color: white; border-radius: 10px; cursor: pointer; font-size: 18px;
        }
        .mood-btn.active { background: var(--purple-dark); border-color: var(--purple-soft); }

        textarea.ref-box {
            width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px; color: white; padding: 15px; font-family: inherit; resize: none;
        }

        /* TABS / BUTTONS */
        .btn-action {
            background: var(--purple-dark); color: white; border: none;
            padding: 12px; border-radius: 12px; width: 100%; cursor: pointer; font-weight: bold;
        }

        h2 { font-family: 'Montserrat'; font-size: 13px; text-transform: uppercase; color: var(--purple-soft); margin-bottom: 20px; }

        @media (max-width: 1100px) { .dashboard-grid { grid-template-columns: 1fr; } .welcome-box { grid-column: span 1; } }
    </style>
</head>
<body>

    <div class="dashboard-grid">
        
        <div class="welcome-box">
            <span style="font-size: 11px; letter-spacing: 4px; color: var(--purple-soft); font-weight: 800;">COMMAND CENTER</span>
            <h1>SiPandu <span>Authority</span></h1>
            <p class="vision-text">
                <strong>Apa itu SiPandu?</strong> SiPandu bukan sekadar aplikasi administrasi. Ia adalah <em>Cognitive Assistant</em> bagi pendidik untuk mentransformasi beban administratif menjadi data reflektif. 
                Di sini, perencanaan (RPM), jurnal, dan delapan dimensi profil lulusan bersatu dalam satu kendali. 
                Dirancang untuk membantu Anda memimpin kelas dengan kejelasan visi dan struktur yang presisi.
            </p>
        </div>

        <div class="card">
            <h2>üìÖ Planner & Schedule</h2>
            <div id="calendarHeader" style="display:flex; justify-content:space-between; margin-bottom:15px; font-size:12px;">
                <strong id="monthYear">Desember 2025</strong>
            </div>
            <div class="calendar-grid" id="calendarBody">
                </div>
            <div style="margin-top:20px;">
                <label style="font-size:11px; color:var(--purple-soft);">Agenda Cepat:</label>
                <input type="text" id="quickAgenda" placeholder="Klik tanggal atau tulis di sini..." 
                       style="width:100%; background:none; border:none; border-bottom:1px solid #444; color:white; padding:10px 0;">
                <button class="btn-action" style="margin-top:15px;" onclick="addAgenda()">Simpan ke Jurnal</button>
            </div>
        </div>

        <div class="card">
            <h2>üß† Daily Reflection</h2>
            <div class="reflection-tool">
                <p style="font-size:11px; opacity:0.6;">Bagaimana performa instruksional hari ini?</p>
                <div style="display:flex; gap:10px;">
                    <button class="mood-btn" onclick="setMood('üî•', this)">üî•</button>
                    <button class="mood-btn" onclick="setMood('üåü', this)">üåü</button>
                    <button class="mood-btn" onclick="setMood('üßò', this)">üßò</button>
                    <button class="mood-btn" onclick="setMood('‚è≥', this)">‚è≥</button>
                </div>
                <textarea class="ref-box" id="dailyRef" rows="5" placeholder="Insight menarik apa yang ditemukan di kelas hari ini?"></textarea>
                <button class="btn-action" onclick="saveReflection()">Log Reflection</button>
            </div>
        </div>

        <div class="card">
            <h2>üéØ Progress Monitor</h2>
            <div style="margin-bottom:20px;">
                <div style="font-size:24px; font-weight:800;" id="countRPM">0</div>
                <div style="font-size:10px; opacity:0.5;">RPM COMPLETED</div>
            </div>
            <div style="margin-bottom:20px;">
                <div style="font-size:24px; font-weight:800;" id="countAgenda">0</div>
                <div style="font-size:10px; opacity:0.5;">JOURNAL ENTRIES</div>
            </div>
            <hr style="opacity:0.1;">
            <p style="font-size:11px; color:var(--purple-soft); font-style:italic;">
                "Struktur membebaskan kreativitas. Teruslah memandu."
            </p>
        </div>

    </div>

    <script>
        let selectedMood = 'üßò';
        let selectedDate = new Date().getDate();

        function initCalendar() {
            const body = document.getElementById('calendarBody');
            const days = ['S','S','R','K','J','S','M'];
            body.innerHTML = days.map(d => `<div style="font-weight:800; opacity:0.3; font-size:10px;">${d}</div>`).join('');
            
            for(let i=1; i<=31; i++) {
                const isToday = i === new Date().getDate() ? 'cal-today' : '';
                body.innerHTML += `<div class="cal-day ${isToday}" onclick="selectDate(${i})">${i}</div>`;
            }
        }

        function selectDate(d) {
            selectedDate = d;
            document.getElementById('quickAgenda').placeholder = `Agenda untuk tgl ${d}...`;
        }

        function setMood(m, btn) {
            selectedMood = m;
            document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function saveReflection() {
            const text = document.getElementById('dailyRef').value;
            if(!text) return alert("Tuliskan sesuatu untuk direfleksikan.");
            
            const adminStore = JSON.parse(localStorage.getItem('sipandu_authority_master')) || { jurnal: [] };
            adminStore.jurnal.push({
                tgl: `${selectedDate} Des 2025`,
                kegiatan: `[REFLEKSI ${selectedMood}] ${text}`,
                solusi: 'Input via Home Reflection'
            });
            
            localStorage.setItem('sipandu_authority_master', JSON.stringify(adminStore));
            alert("Refleksi tersimpan di Jurnal Administrasi!");
            document.getElementById('dailyRef').value = '';
            loadStats();
        }

        function addAgenda() {
            const act = document.getElementById('quickAgenda').value;
            if(!act) return;
            const adminStore = JSON.parse(localStorage.getItem('sipandu_authority_master')) || { jurnal: [] };
            adminStore.jurnal.push({
                tgl: `${selectedDate} Des 2025`,
                kegiatan: act,
                solusi: '-'
            });
            localStorage.setItem('sipandu_authority_master', JSON.stringify(adminStore));
            document.getElementById('quickAgenda').value = '';
            loadStats();
        }

        function loadStats() {
            const adminStore = JSON.parse(localStorage.getItem('sipandu_authority_master')) || { jurnal: [] };
            const rpmStore = JSON.parse(localStorage.getItem('rpm_db_v5')) || [];
            document.getElementById('countRPM').innerText = rpmStore.length;
            document.getElementById('countAgenda').innerText = adminStore.jurnal.length;
        }

        window.onload = () => { initCalendar(); loadStats(); };
    </script>
</body>
</html>
